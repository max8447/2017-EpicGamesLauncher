var com=com||{};com.epicgames=com.epicgames||{};com.epicgames.account=com.epicgames.account||{};com.epicgames.account.web=com.epicgames.account.web||{};com.epicgames.account.web.widgets=function(){if(com.epicgames.account.web.URLS===undefined){console.error("com.epicgames.acount.web.URLS not defined. Aborting widget load something is wrong.");return}if(window.jQuery===undefined){console.error("document.jQuery is not defined. JQuery must be loaded to use this widget. Aborting widget load something is wrong.");return}if(window.jQuery.validator===undefined){console.error("jQuery.validator is not defined. JQuery validation must be loaded to use this widget. Aborting widget load something is wrong.");return}if(window.ue){window.addEventListener("contextmenu",function(e){e.preventDefault();return false})}var e={};var t="accountPortalModalOverlay";var n;var r;var i;var s;var o;var u;var a;var f;var l;var c;var h;var p;var d;var v;var m;var g=/\s*.+@.+\..+\s*/;var y={};var b;var w;var E;var S={};var x=function(e){console.log("loadI18N");e=e||function(){};var t=true;for(var n in y){if(y.hasOwnProperty(n)){t=false}}if(t){console.log("Messages not loaded, loading");if(com.epicgames.account.web.runLocal){$.getJSON(com.epicgames.account.web.URLS.i18nMessagesJSON,function(t){y=t;console.log("Messages loaded running callback");N();e()})}else{$.ajax({url:com.epicgames.account.web.URLS.i18nMessagesJSON,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},success:function(t){y=t;console.log("Messages loaded running callback");N();e()},error:function(t,n,r){console.log("Failed to load i18n messages json js messages will not be translated.  "+r);N();e()}})}}else{console.log("Messages already loaded");e()}};var T=function(e){return y[e]===undefined?e:y[e]};jQuery.validator.addMethod("email",function(e,t){return this.optional(t)||e.length>3&&e.search(g)!=-1});jQuery.validator.addMethod("passwordComplexity",function(e,t){return this.optional(t)||/^(?!.*? )(?=.*?[A-Za-z])(?=.*?[0-9]).{7,}$/.test(e)},T("messages.com.epicgames.accountportal.js.validation.passwordComplexity"));jQuery.validator.setDefaults({ignore:"",errorClass:"fieldValidationError",wrapper:"div",errorPlacement:function(e,t){if(!com.epicgames.account.web.hideValidation){e.addClass("fieldValidationError").insertAfter(t)}},onkeyup:function(e,t){if(com.epicgames.account.web.doNotValidateRealtime){9!==t.which&&e.classList.contains("fieldValidationError")&&this.element(e);return}9!==t.which&&this.element(e)}});var N=function(){console.log("setupJQueryValidateI18n");jQuery.validator.messages=$.extend(jQuery.validator.messages,{required:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.required"),remote:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.remote"),email:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.email"),url:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.url"),date:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.date"),dateISO:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.dateISO"),number:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.number"),digits:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.digits"),creditcard:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.creditcard"),equalTo:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.equalTo"),maxlength:jQuery.validator.format(T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.maxlength")),minlength:jQuery.validator.format(T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.minlength")),rangelength:jQuery.validator.format(T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.rangelength")),range:jQuery.validator.format(T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.range")),max:jQuery.validator.format(T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.max")),min:jQuery.validator.format(T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.min"))})};com.epicgames.account.web.pleaseWaitDialog;var C=function(e){x(function(){var t=document.createElement("div");if(!com.epicgames.account.web.pleaseWaitDialog){t.setAttribute("id","pleaseWaitDialogId");t.setAttribute("class","pleaseWaitClass");document.getElementsByTagName("body")[0].appendChild(t);var n=document.createElement("div");n.setAttribute("class","pleaseWaitContents");var r=ht?T("messages.com.epicgames.accountportal.common.launcher.anonLogin"):T("messages.com.epicgames.accountportal.common.launcher.signingPleaseWait");n.innerHTML='<p class="welcome" id="welcomeGreeting">&nbsp;</p><p id="loginMode">'+r+'</p><div class="launcherPreload"></div>';t.appendChild(n);com.epicgames.account.web.pleaseWaitDialog=t;window.ue.signinprompt.registersignincompletecallback(function(e,t){if(e){var n="";if(!ht){if(!pt){n=T("messages.com.epicgames.accountportal.common.launcher.signingWelcomeBackGreeting")}else{n=T("messages.com.epicgames.accountportal.common.launcher.signingGreeting")}$("#welcomeGreeting").html(n.format(e.displayname))}}})}if(ht){$("#loginMode").html(T("messages.com.epicgames.accountportal.common.launcher.anonLogin"))}if(e){$("#accountPortalModalOverlay").hide();$("#pleaseWaitDialogId").show()}else{$("#accountPortalModalOverlay").show();$("#pleaseWaitDialogId").hide()}})};var k=function(e){d=e};var L=function(e){v=e};var A=function(e){m=e};var O=function(e){b=e};var M=function(e){E=e};var _=function(e){S=e};var D=function(e){w=e};var P=function(e){console.log("doNoCORSRedirect");var t=$.extend({},e);var n=t.noCorsUrl;if(n==null){console.error("Call made to doNoCORSRedirect without noCorsUrl specified. Aborting.");return}if(b!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"redirectUrl="+encodeURIComponent(b)}if(t.appMessage!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"appMessage="+encodeURIComponent(appMessage)}if(t.regSubheading!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"regSubheading="+encodeURIComponent(regSubheading)}if(t.loginSubheading!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"loginSubheading="+encodeURIComponent(loginSubheading)}if(t.appMessage!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"psnState="+encodeURIComponent(psnState)}if(t.authType!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"authType="+encodeURIComponent(authType)}if(t.psnDisplayName!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"psnDisplayName="+encodeURIComponent(psnDisplayName)}if(t.linkExtAuth!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"linkExtAuth="+encodeURIComponent(linkExtAuth)}window.location.replace(n)};var H=function(){s=u=c=h=l=p=f=a=o=null};var B=function(e){var t=e;return function(e,n,s){if(window.ue&&window.ue.signinprompt&&s.getResponseHeader("X-EPIC-LAUNCHER-EVENT")){var o=s.getResponseHeader("X-EPIC-LAUNCHER-EVENT");window.ue.signinprompt[o](e.data);if(t&&typeof t=="function"){console.log("Calling a callback in ajaxSuccessHandlerModal");t(e,n,s)}}else{if(s.getResponseHeader("X-EPIC-LOGIN-COMPLETE-REDIRECT")){var u=$("<span>").addClass("subheading");z();if(e.redirectURL===undefined){u.html(T("messages.com.epicgames.accountportal.commmon.unexpectedRedirectResponse"));i.html(u);return}console.log("Redirecting to redirectURL");if(r&&!e.hideMessage){r.addClass("redirecting");u.html(T("messages.com.epicgames.accountportal.common.redirecting"));i.html(u)}if(t&&typeof t=="function"){if(t(e,n,s)){console.log("callback returns true, skip redirecting");return}}window.location.replace(e.redirectURL);return}V(function(){console.log("ajaxSuccessHandlerModal showModal callback running");i.html(s.responseText);rn($("#location").val());K();W();q();I();j();vt();if(t&&typeof t=="function"){console.log("Calling a callback in ajaxSuccessHandlerModal");t(e,n,s)}})}}};var j=function(){if(window.ue&&window.ue.signinprompt&&r){$("input[type=submit]").removeClass("disabled")}};var F=/^(\d+)\.(\d+)\.(\d+)$/;var I=function(){var e=document.getElementsByTagName("form");var t=e&&e.length>0?e[0].elements:[];for(var n=0;n<t.length;n++){var r=t[n];if(r.value){r.parentNode.classList.add("filled")}r.addEventListener("input",function(){if(this.value){this.parentNode.classList.add("filled")}else{this.parentNode.classList.remove("filled")}})}if(window.ue&&window.ue.client&&window.ue.client.getversion){window.ue.client.getversion().then(function(e){if(e){if(e.apiversions.signin){var t=F.exec(e.apiversions.signin);if(parseInt(t[1])>=1){$("#thirdPartyLogin").show()}}}})}};var q=function(){var e=function(e){if(e&&e.getModifierState){if(e.getModifierState("CapsLock")){$("#capsLocked").show()}else{$("#capsLocked").hide()}}};var t=function(){if(window.event){var e=window.event.getModifierState&&window.event.getModifierState("CapsLock");if(e){$("#capsLocked").show()}else{$("#capsLocked").hide()}}};document.onkeyup=e;document.onkeydown=e;window.onclick=t};var R=function(e,t,n){if(e.result===true||e.redirectURL!==undefined){console.log("logout successful");if(m){console.log("calling logout callback");m();return}var s=e.redirectURL!==undefined?e.redirectURL:"/";console.log("redirecting to "+s);if(r){r.addClass("redirecting");var o=$("<span>").addClass("subheading");o.html(T("messages.com.epicgames.accountportal.common.redirecting"));i.html(o)}window.location.replace(s);return}console.error("there was an error logging out");V(function(){console.log("ajaxLogoutSuccessHandlerModal error logging out showModal callback running");var e=$("<span>").addClass("subheading");e.html(T("messages.com.epicgames.accountportal.commmon.failedToLogOut"));i.html(e);W()})};var U=function(e,t,n){V(function(){console.log("ajaxErrorHandlerModal showModal callback running");console.log("Error was:"+n+" textStatus:"+t);i.html(e.responseText);rn($("#location").val());W();q();I();j();$("input[type=submit]").removeAttr("disabled")})};var z=function(){if(typeof r!=="undefined"){r.find("#closeBtn").remove()}};var W=function(){if(v){z()}};var X=function(){console.info("buildModal");if(n===undefined){console.info("creating modal overlay and dialog");n=$("#"+t);if(n.length==0){n=$("<div>").attr("id",t).addClass("accountPortalModalOverlay customProductClass").hide();$("body").append(n)}else{console.info("modal already exist. Returning");r=$("#accountPortalModalDialog");i=$("#accountPortalModalDialogContents");return}r=$("<div>").attr("id","accountPortalModalDialog").addClass("accountPortalModalDialog").css("display","inline-block");var e=Zt("hideLogo");if(!e){var s=$("<span>");s.addClass("logo");r.append(s)}i=$("<div>").attr("id","accountPortalModalDialogContents").addClass("modalContent");r.append(i);var o=$("<span>").attr("id","closeBtn").attr("onclick","com.epicgames.account.web.widgets.hideModal()");r.append(o);n.append(r)}};var V=function(e){console.log("showModal");e=e||function(){};x(function(){console.log("ShowModal anon callback running");H();X();n.show();r.show();e()})};var J=function(e){console.log("hideModal");if(n){n.hide()}if(r){r.hide()}if(!d){d=$("input[name=client_id]").val()}var t=$.extend({error:"cancelled",isModal:"true",client_id:d},S,e);var i=E||function(){$.ajax({url:com.epicgames.account.web.URLS.doRedirectWithErrorUrl,data:t,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(),U)};i()};var K=function(){var e=r.find("input[type=checkbox]");if(e.length>0){e.on("focus",function(){i.find(".checkContainer label span").addClass("focused")});e.on("blur",function(){i.find(".checkContainer label span").removeClass("focused")})}};var Q=function(e){if(window.ue&&window.ue.signinprompt){window.ue.signinprompt.requestforgotpassword()}else{var t=$.extend({},S,e);var n=Zt("appMessage");if(n!==""){$.extend(t,{appMessage:n})}if($.support.cors){G(t)}else{t.noCorsUrl=com.epicgames.account.web.URLS.requestPasswordReset;P(t)}}};var G=function(e){console.log("requestReset");var t={hideSignInLink:false};var n=$.extend({},t,S,e);$.ajax({url:com.epicgames.account.web.URLS.doRequestPasswordReset,data:n,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(),U)};var Y=function(){console.log("submitResetRequest");var e=r.find("form").serialize();var t=Zt("appMessage");if(t!==""){e+="&appMessage="+encodeURIComponent(t)}$.ajax({url:com.epicgames.account.web.URLS.doRequestPasswordReset,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(function(e,t,n){if(n.getResponseHeader("X-EPIC-LOGIN-COMPLETE-REDIRECT")){var r=$("<span>").addClass("subheading");var s=T("messages.com.epicgames.accountportal.passwordReset.requestResetSuccess.bodyTitle")+"<br><br>"+T("messages.com.epicgames.accountportal.common.redirecting");r.html(s);i.html(r);setTimeout(function(){window.location.replace(e.redirectURL)},1e3);return true}}),U)};var Z=function(e){console.log("displayNameChange");var t=$.extend({},S,e);var n=Zt("resetCode");if(n!==""){$.extend(t,{resetCode:n})}$.ajax({url:com.epicgames.account.web.URLS.doDisplayNameChange,data:t,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(),U)};var et=function(){console.log("validateDisplayNameChangeForm");var e=r.find("#displayNameChangeForm"),t=e.find("input[type=text]"),n=e.find("#submitButton");if(!l){var i={displayName:"required"};l=e.validate({rules:i,messages:{},errorPlacement:function(e,t){e.addClass("fieldValidationError").insertAfter(t)},submitHandler:function(e,t){t.preventDefault();n.addClass("disabled");n.val(T("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");tt()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}})}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var tt=function(){console.log("submitDisplayNameChange");var e=r.find("form").serialize();var t=Zt("appMessage");if(t!==""){e+="&appMessage="+encodeURIComponent(t)}$.ajax({url:com.epicgames.account.web.URLS.doDisplayNameChange,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(),U)};var nt=function(){var e=r.find("#resetRequestForm"),t=e.find("#email"),n=e.find("#submitButton");if(!c){console.log("validateResetRequest");c=e.validate({rules:{email:{required:true,email:true}},messages:{email:T("messages.com.epicgames.accountportal.js.validation.emailRequired")},submitHandler:function(e,t){t.preventDefault();n.addClass("disabled");n.val(T("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");Y()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}})}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var rt=function(e){var t=$("#submit");t.addClass("disabled");t.attr("disabled","disabled");t.removeAttr("onclick");return true};var it=function(e){console.log("link PSN");var t=$.extend({},S,e);var n=document.getElementById("psnStateId").value;if(n!==""){$.extend(t,{psnState:n})}var r=Zt("productName");if(r!==""){$.extend(t,{productName:r})}var i=Zt("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkPsn,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var st=function(e){var t=$.extend({},S,e);$.ajax({url:com.epicgames.account.web.URLS.noXboxAccount,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var ot=function(e){console.log("link MsId");var t=$.extend({},S,e);var n=document.getElementById("extLoginState").value;if(n!==""){$.extend(t,{extLoginState:n})}var r=Zt("productName");if(r!==""){$.extend(t,{productName:r})}var i=Zt("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkMsId,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var ut=function(e){console.log("link Twitch");var t=$.extend({},S,e);var n=document.getElementById("extLoginState").value;if(n!==""){$.extend(t,{extLoginState:n})}var r=Zt("productName");if(r!==""){$.extend(t,{productName:r})}var i=Zt("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkTwitch,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var at=function(e){console.log("link YouTube");var t=$.extend({},S,e);var n=document.getElementById("extLoginState").value;if(n!==""){$.extend(t,{extLoginState:n})}var r=Zt("productName");if(r!==""){$.extend(t,{productName:r})}var i=Zt("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkYouTube,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B,U)};var ft=function(e){console.log("link PSN confirm");var t=$.extend({},S,e);var n=document.getElementById("psnStateId").value;if(n!==""){$.extend(t,{psnState:n})}var r=Zt("productName");if(r!==""){$.extend(t,{productName:r})}var i=Zt("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkPsnConfirm,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var lt=function(e){console.log("Account already linked");var t=$.extend({},S);var n=document.getElementById("extLoginState").value;if(n!==""){$.extend(t,{extLoginState:n})}var r=Zt("productName");if(r!==""){$.extend(t,{productName:r})}var i=Zt("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var ct=function(){console.log("linkAccount");var e=r.find("form").serialize();$.ajax({url:com.epicgames.account.web.URLS.doLinkPsnConfirm,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(),U)};var ht=false;var pt=false;var dt=function(e){console.log("login");if(com.epicgames.account.web.runLocal){V(function(){$("#offlineMode").show();zt();pt=false;ht=false;window.ue.signinprompt.isloggingin().then(function(e){C(e)});vt();mt();q();I();j()})}else{var t=$.extend({},S,e);At(t);var n=Zt("linkExtAuth");if(n!==""){$.extend(t,{linkExtAuth:n})}$.ajax({url:com.epicgames.account.web.URLS.doLogin,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(mt),U)}};var vt=function(){if(window.ue&&window.ue.signinprompt&&r){window.ue.signinprompt.setloggingincallback(function(e){var t=r.find("#loginForm");var n=t.find("#signIn");if(!e){C(false);n.removeClass("disabled");var i=T("messages.com.epicgames.accountportal.common.signIn");n.val(i);n.removeAttr("disabled")}else{C(true);n.addClass("disabled");var i=T("messages.com.epicgames.accountportal.common.submitting");n.val(i);n.attr("disabled","disabled")}})}};var mt=function(){if(window.ue&&window.ue.signinprompt){window.ue.signinprompt.getremembermeuser().then(function(e){if(e&&e.email!==""){$("#epic_username").val(e.email);$("#epic_username").parent().addClass("filled");$("#epic_username").parent().addClass("prefilled");setTimeout(function(){$("#epic_username").parent().removeClass("prefilled")},500)}});window.ue.signinprompt.isremembermeenabled().then(function(e){if(e){document.getElementById("rememberMe").check=true}else{document.getElementById("rememberMe").checked=false}})}};var gt=function(e){console.log("submitLogin");if(window.ue&&window.ue.signinprompt&&!e){var t=$("#epic_username").val();var n=$("#password").val();window.ue.signinprompt.requestsignin(t,n)}else{var i=r.find("form").serialize();var s=Zt("loginSubheading");var o=Zt("regSubheading");var u=Zt("appMessage");var a=Zt("psnState");var f=Zt("productName");if(s!==""){i+="&loginSubheading="+encodeURIComponent(s)}if(o!==""){i+="&regSubheading="+encodeURIComponent(o)}if(u!==""){i+="&appMessage="+encodeURIComponent(u)}if(a!==""){i+="&psnState="+encodeURIComponent(a)}if(f!==""){i+="&productName="+encodeURIComponent(f)}$.ajax({url:com.epicgames.account.web.URLS.doLogin,method:"POST",data:i,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(),U)}};var yt=0;var bt=function(){var e=r.find("#loginForm"),t=e.find("#epic_username, #password"),n=e.find("#signIn");if(!s){s=e.validate({rules:{epic_username:{required:true,email:true},password:{required:true}},messages:{epic_username:T("messages.com.epicgames.accountportal.js.validation.emailRequired"),password:T("messages.com.epicgames.accountportal.js.validation.passwordRequired")},submitHandler:function(t,r){r.preventDefault();if(e.validate().checkForm()){if(!window.ue||!window.ue.signinprompt){n.addClass("disabled")}n.val(T("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");gt()}}});if(!window.ue||!window.ue.signinprompt){t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}});var i=function(){if(e.validate().valid()){n.removeClass("disabled")}else{n.addClass("disabled");if(yt++<10){setTimeout(i,200)}}};setTimeout(i,200)}}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var wt=function(){var e=r.find("#loginForm"),t=e.find("#epic_username, #password"),n=e.find("#signIn");if(!s){s=e.validate({rules:{epic_username:{required:true,email:true},password:{required:true}},messages:{epic_username:T("messages.com.epicgames.accountportal.js.validation.emailRequired"),password:T("messages.com.epicgames.accountportal.js.validation.passwordRequired")},submitHandler:function(e,t){t.preventDefault();n.addClass("disabled");n.val(T("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");gt(true)}});t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}});var i=function(){if(e.validate().valid()){n.removeClass("disabled")}else{n.addClass("disabled");if(yt++<10){setTimeout(i,200)}}};setTimeout(i,200)}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var Et=function(e){if(e){St()}else{Ct()}};var St=function(){if(window.ue&&window.ue.signinprompt){window.ue.signinprompt.requestcreateaccount()}else{window.location.href=com.epicgames.account.web.URLS.registerLauncher}};var xt=function(e){if(window.ue&&window.ue.signinprompt){window.ue.signinprompt.requestauthcodesignin(e)}};var Tt=function(e,t,n){pt=t;V(function(){if(window.ue&&window.ue.signinprompt){vt();window.ue.signinprompt.requestexchangecodesignin(e,n)}})};var Nt=function(){if(window.ue&&window.ue.signinprompt){ht=true;window.ue.signinprompt.requestofflinesignin()}};var Ct=function(){if(window.ue&&window.ue.signinprompt){ht=false;window.ue.signinprompt.requestloginaccount()}else{window.location.href=com.epicgames.account.web.URLS.loginLauncher}};var kt=function(e){var t=$.extend({},S,e);At(t);$.ajax({url:com.epicgames.account.web.URLS.doRegister,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var Lt=function(e){var t=$.extend({},S,e);At(t);$.ajax({url:com.epicgames.account.web.URLS.doLogin,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var At=function(e){var t=Zt("loginSubheading");var n=Zt("regSubheading");var r=Zt("appMessage");var i=Zt("authType");var s=Zt("psnDisplayName");var o=Zt("psnState");var u=Zt("productName");var a=Zt("psnCode");var f=Zt("isCreateFlow");if(t!==""){$.extend(e,{loginSubheading:t})}if(n!==""){$.extend(e,{regSubheading:n})}if(r!==""){$.extend(e,{appMessage:r})}if(i!==""){$.extend(e,{authType:i})}if(o!==""){$.extend(e,{psnState:encodeURIComponent(o)})}if(s!==""){$.extend(e,{psnDisplayName:s})}if(u!==""){$.extend(e,{productName:u})}if(a!==""){$.extend(e,{psnCode:a})}if(f!==""){$.extend(e,{isCreateFlow:f})}};var Ot=function(e){console.log("register");var t=$.extend({},S,e);At(t);var n=window.location.hash.substr(1);if(n!==""){var r=n.split("&");for(var i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]=="first_name"){$.extend(t,{name:decodeURIComponent(s[1])})}else if(s[0]=="last_name"){$.extend(t,{lastName:decodeURIComponent(s[1])})}else if(s[0]=="email"){$.extend(t,{email:decodeURIComponent(s[1])})}else if(s[0]=="display_name"){$.extend(t,{displayName:decodeURIComponent(s[1])})}else if(s[0]=="country"){$.extend(t,{country:decodeURIComponent(s[1]).toUpperCase()})}}}$.ajax({url:com.epicgames.account.web.URLS.doRegister,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var Mt=function(){console.log("submitRegister");var e=r.find("form").serialize();var t=Zt("loginSubheading");var n=Zt("regSubheading");var i=Zt("appMessage");var s=Zt("psnState");var o=Zt("productName");if(t!==""){e+="&loginSubheading="+encodeURIComponent(t)}if(n!==""){e+="&regSubheading="+encodeURIComponent(n)}if(i!==""){e+="&appMessage="+encodeURIComponent(i)}if(s!==""){e+="&psnState="+encodeURIComponent(s)}if(o!==""){e+="&productName="+encodeURIComponent(o)}$.ajax({url:com.epicgames.account.web.URLS.doRegister,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(),U)};var _t=function(){console.log("validateRegisterForm");var e=r.find("#registerForm"),t=e.find("input[type=text], input[type=email], input[type=password], textarea"),n=e.find("#termsAgree"),i=e.find("#register");if(!u){console.log("Creating register form validator");var s=Zt("ps4");var o={displayName:"required",name:"required",lastName:"required",email:{required:true,email:true},password:{required:true,minlength:7,maxlength:256,passwordComplexity:true},country:{required:true}};if(s!=="true"){o.termsAgree="required";o["g-recaptcha-response"]="required";o["simplecaptcha-response"]="required"}else{console.log("ps4 validation");n.prop("checked",true)}u=e.validate({rules:o,messages:{email:T("messages.com.epicgames.accountportal.js.validation.emailRequired"),password:T("messages.com.epicgames.accountportal.js.validation.passwordComplexity"),termsAgree:T("messages.com.epicgames.accountportal.js.validation.termsAgreeRequired"),"g-recaptcha-response":T("messages.com.epicgames.accountportal.js.validation.captchaRequired"),"simplecaptcha-response":T("messages.com.epicgames.accountportal.js.validation.captchaRequired"),country:T("messages.com.epicgames.accountportal.js.validation.countryRequired")},errorPlacement:function(e,t){if(t.attr("name")=="termsAgree"){r.find("#registerForm .checkContainer").append(e)}else{if(!com.epicgames.account.web.hideValidation){e.addClass("fieldValidationError").insertAfter(t)}}},submitHandler:function(e,t){t.preventDefault();if(!window.ue||!window.ue.signinprompt){i.addClass("disabled")}i.val(T("messages.com.epicgames.accountportal.common.submitting"));i.attr("disabled","disabled");Mt()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){i.removeClass("disabled")}else{if(!window.ue||!window.ue.signinprompt){i.addClass("disabled")}}});n.on("click",function(){if(e.validate().checkForm()){i.removeClass("disabled")}else{if(!window.ue||!window.ue.signinprompt){i.addClass("disabled")}}});if(!$("#g-recaptcha-response").length){console.log("falling back to simple captcha");$("#recaptcha").remove();$("#simpleCaptcha").show();$("#captchaType").val("simple")}else{console.log("using recaptcha");$("#simpleCaptcha").remove();$("#captchaType").val("re")}}else{t.removeAttr("oninput");i.removeAttr("onclick")}};var Dt=function(){console.log("validateLinkNewForm");var e=r.find("#registerForm"),t=e.find("input[type=text], input[type=email], textarea"),n=e.find("#termsAgree"),i=e.find("#register");if(!a){console.log("Creating register form validator for linking a new account");var s={displayName:"required",name:"required",lastName:"required",termsAgree:"required",email:{required:true,email:true}};s["g-recaptcha-response"]="required";s["simplecaptcha-response"]="required";a=e.validate({rules:s,messages:{email:T("messages.com.epicgames.accountportal.js.validation.emailRequired"),termsAgree:T("messages.com.epicgames.accountportal.js.validation.termsAgreeRequired"),"g-recaptcha-response":T("messages.com.epicgames.accountportal.js.validation.captchaRequired"),"simplecaptcha-response":T("messages.com.epicgames.accountportal.js.validation.captchaRequired")},errorPlacement:function(e,t){if(t.attr("name")=="termsAgree"){r.find("#registerForm #termsAgreeContainer").append(e)}else{if(!com.epicgames.account.web.hideValidation){e.addClass("fieldValidationError").insertAfter(t)}}},submitHandler:function(e,t){t.preventDefault();i.addClass("disabled");i.val(T("messages.com.epicgames.accountportal.common.submitting"));i.attr("disabled","disabled");Mt()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){i.removeClass("disabled")}else{i.addClass("disabled")}});n.on("click",function(){if(e.validate().checkForm()){i.removeClass("disabled")}else{i.addClass("disabled")}});if(!$("#g-recaptcha-response").length){console.log("falling back to simple captcha");$("#recaptcha").remove();$("#simpleCaptcha").show();$("#captchaType").val("simple")}else{console.log("using recaptcha");$("#simpleCaptcha").remove();$("#captchaType").val("re")}}else{t.removeAttr("oninput");i.removeAttr("onclick")}};var Pt=function(e){console.log("headless");var t=$.extend({},S,e);var n=Zt("loginSubheading");var r=Zt("regSubheading");var i=Zt("appMessage");var s=Zt("psnCode");if(n!==""){$.extend(t,{loginSubheading:n})}if(r!==""){$.extend(t,{regSubheading:r})}if(i!==""){$.extend(t,{appMessage:i})}if(s!==""){$.extend(t,{psnCode:s})}$.ajax({url:com.epicgames.account.web.URLS.doHeadless,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var Ht=function(){console.log("submitHeadless");var e=r.find("form").serialize();var t=Zt("loginSubheading");var n=Zt("regSubheading");var i=Zt("appMessage");if(t!==""){e+="&loginSubheading="+encodeURIComponent(t)}if(n!==""){e+="&regSubheading="+encodeURIComponent(n)}if(i!==""){e+="&appMessage="+encodeURIComponent(i)}$.ajax({url:com.epicgames.account.web.URLS.doHeadless,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(),U)};var Bt=function(){console.log("validateHeadlessForm");var e=r.find("#headlessForm"),t=e.find("input[type=text], input[type=email], input[type=password], textarea"),n=e.find("#termsAgree"),i=e.find("#headless");if(!f){console.log("Creating register form validator");f=e.validate({rules:{displayName:"required",name:"required",lastName:"required",termsAgree:"required",email:{required:true,email:true},password:{required:true,minlength:7,maxlength:256,passwordComplexity:true}},messages:{email:T("messages.com.epicgames.accountportal.js.validation.emailRequired"),password:T("messages.com.epicgames.accountportal.js.validation.passwordComplexity"),termsAgree:T("messages.com.epicgames.accountportal.js.validation.termsAgreeRequired")},errorPlacement:function(e,t){if(t.attr("name")=="termsAgree"){r.find("#headlessForm #termsAgreeCheckContainer").append(e)}else{e.addClass("fieldValidationError").insertAfter(t)}},submitHandler:function(e,t){t.preventDefault();i.addClass("disabled");i.val(T("messages.com.epicgames.accountportal.common.submitting"));i.attr("disabled","disabled");Ht()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){i.removeClass("disabled")}else{i.addClass("disabled")}});n.on("click",function(){if(e.validate().checkForm()){i.removeClass("disabled")}else{i.addClass("disabled")}});if(e.validate().checkForm()){i.removeClass("disabled")}else{i.addClass("disabled")}}else{t.removeAttr("oninput");i.removeAttr("onclick")}};var jt=function(e){console.log("sdn");var t=$.extend({},S,e);var n=Zt("loginSubheading");var r=Zt("regSubheading");var i=Zt("appMessage");var s=Zt("psnState");var o=Zt("authType");var u=Zt("psnDisplayName");var a=Zt("linkExtAuth");var f=Zt("productName");if(n!==""){$.extend(t,{loginSubheading:n})}if(r!==""){$.extend(t,{regSubheading:r})}if(i!==""){$.extend(t,{appMessage:i})}if(s!==""){$.extend(t,{psnState:s})}if(o!==""){$.extend(t,{authType:o})}if(u!==""){$.extend(t,{psnDisplayName:u})}if(a!==""){$.extend(t,{linkExtAuth:a})}if(f!==""){$.extend(t,{productName:f})}$.ajax({url:com.epicgames.account.web.URLS.showSdn,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(qt),U)};var Ft=function(){var e=$("#sdnForm"),t=e.find("#pob, #dob, #country, #city"),n=e.find("#submitForm");if(!p){var r=new Date;var i=r.getFullYear();p=e.validate({rules:{dobDay:{required:true,range:[1,31],number:true},dobMonth:{required:true,range:[1,12],number:true},dobYear:{required:true,range:[1900,i],number:true},pob:{required:true},country:{required:true},city:{required:true}},messages:{pob:{required:T("messages.com.epicgames.accountportal.js.validation.pobRequired")},dobDay:{required:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.required"),range:T("messages.com.epicgames.accountportal.js.validation.invalidDay"),number:T("messages.com.epicgames.accountportal.js.validation.invalidDay")},dobMonth:{required:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.required"),range:T("messages.com.epicgames.accountportal.js.validation.invalidMonth"),number:T("messages.com.epicgames.accountportal.js.validation.invalidMonth")},dobYear:{required:T("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.required"),range:T("messages.com.epicgames.accountportal.js.validation.invalidYear"),number:T("messages.com.epicgames.accountportal.js.validation.invalidYear")},country:T("messages.com.epicgames.accountportal.js.validation.countryOfResidenceRequired"),city:T("messages.com.epicgames.accountportal.js.validation.cityOfResidenceRequired")},submitHandler:function(e,t){t.preventDefault();n.addClass("disabled");n.val(T("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");It()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}});$("#country").on("selectmenuselect",function(e,t){$("#country-error").hide()})}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var It=function(e){console.log("submitSdn");var t=r.find("form").serialize();$.ajax({url:com.epicgames.account.web.URLS.showSdn,method:"POST",data:t,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(qt),U)};var qt=function(e,t,n){if(window.ue&&window.ue.sdn){if(n.getResponseHeader("X-EPIC-SDN-COMPLETED")){ue.sdn.questionnairecompleted()}else if(n.getResponseHeader("X-EPIC-SDN-ERROR")){ue.sdn.questionnaireerror(n.getResponseHeader("X-EPIC-SDN-ERROR"))}else if(n.getResponseHeader("X-EPIC-SDN-CANCELLED")){ue.sdn.questionnaireclosed()}}};var Rt=function(){if(window.ue&&window.ue.sdn){ue.sdn.questionnaireclosed()}else{var e=$("[name='redirectUrl']").val();if(e===undefined){e=$("[name='defaultRedirectUrl']").val()}window.location.replace(e)}};var Ut=function(){if(window.ue&&window.ue.sdn){ue.sdn.questionnairecompleted()}else{var e=$("[name='redirectUrl']").val();if(e===undefined){e=$("[name='defaultRedirectUrl']").val()}window.location.replace(e)}};var zt=function(){x(function(){var e=T("messages.com.epicgames.accountportal.common.greeting");var t=T("messages.com.epicgames.accountportal.common.label.email");$("#epic_username_label").html(t);var n=T("messages.com.epicgames.accountportal.common.label.password");$("#password_label").html(n);var r=T("messages.com.epicgames.accountportal.common.label.rememberLogin");$("#rememberMeLabel").html(r);var i=T("messages.com.epicgames.accountportal.common.forgotPassword");$("#forgotPasswordLink").html(i);var s=T("messages.com.epicgames.accountportal.common.signIn");$("#signIn").val(s);var o=T("messages.com.epicgames.accountportal.common.or");$("#thirdPartySignInOr").html(o);$("#skipSigninOr").html(o);var u=T("messages.com.epicgames.accountportal.common.noAccount");$("#noAccountId").html(u);var a=T("messages.com.epicgames.accountportal.common.signUp");$("#switchToRegisterId").html(a);var f=T("messages.com.epicgames.accountportal.common.launcher.skipSignin");$("#skipSignInId").html(f);var l=T("messages.com.epicgames.accountportal.common.signInWithFacebook");$("#fbSignIn").val(l);var c=T("messages.com.epicgames.accountportal.common.signInWithGoogle");$("#googleSignIn").val(c);var h=Zt("lang");$("html").addClass(h)})};var Wt=function(e){console.log("edit");var t=$.extend({},e);var n=Zt("appMessage");if(n!==""){$.extend(t,{appMessage:n})}if(w){$.extend(t,{redirectUrl:w})}if($.support.cors){Xt(t)}else{t.noCorsUrl=com.epicgames.account.web.URLS.edit;P(t)}};var Xt=function(e){console.log("editDialog");var t=Zt("appMessage");var n=$.extend({},e);if(t!==""){$.extend(n,{appMessage:t})}if(w){$.extend(n,{redirectUrl:w})}if(E===undefined){M(function(){})}$.ajax({url:com.epicgames.account.web.URLS.doEdit,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:n}).then(B(),U)};var Vt=function(){console.log("submitEditForm");var e=r.find("form").serialize();var t=Zt("appMessage");if(t!==""){e+="&appMessage="+encodeURIComponent(t)}$.ajax({url:com.epicgames.account.web.URLS.doEdit,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(),U)};var $t=function(){console.log("validateEditForm");if(!h){console.log("Creating edit form validator");h=r.find("#editForm").validate({rules:{currentPassword:{required:{depends:function(e){return $("#password").val().length>0}}},password:{required:{depends:function(e){return $("#currentPassword").val().length>0}},minlength:7,maxlength:256,passwordComplexity:true},confirmPassword:{equalTo:"#password"},name:"required",lastName:"required"},messages:{currentPassword:T("messages.com.epicgames.accountportal.js.validation.currentPasswordRequired"),password:T("messages.com.epicgames.accountportal.js.validation.passwordComplexity"),confirmPassword:T("messages.com.epicgames.accountportal.js.validation.passwordConfirmDoesNotMatch")},submitHandler:function(e,t){t.preventDefault();var n=r.find("#editForm #saveChanges");n.addClass("disabled");n.val(T("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");Vt()}})}else{r.find("#editForm input").removeAttr("oninput");r.find("#editForm #saveChanges").removeAttr("onclick")}};var Jt=function(){var e=$(".accountPortalChangePassword");if(e.css("display")==="none"){e.slideDown(400,"swing")}else{$("#currentPassword").val("");$("#password").val("");$("#confirmPassword").val("");e.slideUp(400,"swing")}};var Kt=function(e){var t=$.extend({},e);var n=Zt("appMessage");if(n!==""){$.extend(t,{appMessage:n})}if($.support.cors){Gt(t)}else{t.noCorsUrl=com.epicgames.account.web.URLS.logout;P(t)}};var Qt=function(e){X();n.show();r.show();z();var t=$.extend({},e);var i=Zt("completeUrl");if(i!==""){$.extend(t,{completeUrl:i})}var s=Zt("alreadyLinked");if(s!==""){$.extend(t,{alreadyLinked:s})}$.ajax({url:com.epicgames.account.web.URLS.doShowPsnLink,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var Gt=function(e){console.log("logout");var t=$.extend({},e);$.ajax({url:com.epicgames.account.web.URLS.logoutDialogContents,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(function(){$.ajax({url:com.epicgames.account.web.URLS.doLogout,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:S}).then(R,U)}),U)};var Yt=function(){console.log("validateResetForm");x(function(){console.log("validateResetForm loadI18N callback");var e=$("#resetPasswordForm"),t=e.find("input[type=text], input[type=email], input[type=password]"),n=e.find("#submitButton");t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}});e.validate({rules:{code:"required",password:{required:true,minlength:7,maxlength:256,passwordComplexity:true},newpassverify:{equalTo:"#newPassword"}},messages:{password:T("messages.com.epicgames.accountportal.js.validation.passwordComplexity"),newpassverify:T("messages.com.epicgames.accountportal.js.validation.newPassVerifyMustMatch")},submitHandler:function(e,t){n.attr("disabled","disabled");n.val(T("messages.com.epicgames.accountportal.common.submitting"));n.addClass("disabled");e.submit()}})})};var Zt=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(window.location.search);return n===null?"":decodeURIComponent(n[1].replace(/\+/g," "))};var en=function(e){console.log("authorize");var t=$.extend({},e);var n=com.epicgames.account.web.URLS.authorize+"?response_type=code";if(d===undefined){console.error("You must send a clientId, please call setClientId");return}n+="&client_id="+d;if(t.forRegister!==undefined){n+="&forRegister=true"}if(t.state!==undefined){n+="&state="+encodeURIComponent(t.state)}if($.support.cors){if(t.appMessage!==undefined){n+="&appMessage="+encodeURIComponent(t.appMessage)}if(t.regSubheading!==undefined){n+="&regSubheading="+encodeURIComponent(t.regSubheading)}if(t.loginSubheading!==undefined){n+="&loginSubheading="+encodeURIComponent(t.loginSubheading)}n+="&forWidget=true";$.ajax({url:n,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(B(),U)}else{t.noCorsUrl=n;P(t)}};var tn=function(e){console.log("doAuthorize");var t=$.extend({},S,e);var n=Zt("state");var r=Zt("response_type");if(n!==""){$.extend(t,{state:n})}if(r!==""){$.extend(t,{responseType:r})}var i=com.epicgames.account.web.URLS.doAuthorize;$.ajax({url:i,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var nn=function(e){console.log("acceptAuthorize");var t=r.find("form").serialize();t+="&response_type="+Zt("response_type");t+="&forWidget=true";var n=com.epicgames.account.web.URLS.doAuthorize;$("input[type=submit]").attr("disabled",true);$.ajax({url:n,method:"POST",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(B(),U)};var rn=function(e){var t=$("#country").attr("value");if(t!=undefined){if(t===""){if(e){$.get(e,function(e){cn(e)})}else{$("#country").selectmenu({appendTo:".textField"})}}else{cn(t)}}};var sn=function(e){var t=com.epicgames.account.web.URLS.loginPsn;var n=d;t+="?isPopup=true";if(n==undefined){n=Zt("client_id")}t+="&client_id="+n;var r=Zt("productName");if(r==null||r==""){r="paragon"}t+="&productName="+r;var i=Zt("productCss");if(i!==""){t+="&productCss="+i}window.open(t,"externalLogin","toolbar=no,location=no,width=400,height=600");return false};var on=function(){var e=(new Date).getTime();var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+Math.random()*16)%16|0;e=Math.floor(e/16);return(t=="x"?n:n&3|8).toString(16)});return t};var un=function(e,t){var n=on();if(window.ue&&window.ue.signinprompt){window.ue.environment.getbaseurl("launcher.epicgames").then(function(r){window.ue.common.launchexternalurl(r+"/external-login?authType="+e+"&isRegister="+(t?"true":"false")+"&loginRequestId="+n)})}else{var r=fn(e,t,n);var i=window.open(r,"externalLogin","height=600,width=400");if(i){i.focus()}}window.location.href=com.epicgames.account.web.URLS.externalLogin+"?authType="+e+"&loginRequestId="+n+"&isRegister="+t;return false};var an=function(e,t,n,r){r=r?r:0;$.ajax({url:com.epicgames.account.web.URLS.doExternalLogin,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:{authType:e,loginRequestId:t,isRegister:n}}).then(B(),U);if(r<60){setTimeout(function(){an(e,t,n,r+1)},r<5?2e3:1e4)}};var fn=function(e,t,n){var r;if(e==="facebook"){r=com.epicgames.account.web.URLS.facebookLogin}else if(e==="google"){r=com.epicgames.account.web.URLS.googleLogin}var i=r+"?isPopup=true";var s=Zt("redirectUrl");if(s!==""){i+="&redirectUrl="+s}var o=Zt("client_id");if(o!==""){i+="&client_id="+o}var u=Zt("state");if(u!==""){i+="&state="+u}var a=Zt("productName");if(a!==""){i+="&productName="+a}var f=Zt("createHeadless");if(f!==""){i+="&createHeadless="+f}if(t){i+="&isCreateFlow="+t}i+="&loginRequestId="+n;return i};var ln=function(e,t,n){return function(){$.ajax({url:com.epicgames.account.web.URLS.checkExternalLoginStatus+"?loginRequestId="+e,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:{}}).then(function(r,i,s){console.log("data: "+r);if(r.id!==""&&r.map){if(r.map.error||r.map.errorcode){if(t){St()}else{Ct()}}else{window.location.href=r.map.redirectUrl}}else{if(n<64){checkStatusTimer=setTimeout(ln(e,t,n+1),n<10?2e3:1e4)}else{if(t){St()}else{Ct()}}}},function(e,t,n){console.log("error: "+t)})}};var cn=function(e){if(e!==null){console.log("country detected: "+e);$("#country").find("option").filter(function(){return $(this).val()==e}).prop("selected",true)}else{console.log("no automatic country detection")}};var hn=function(){if(window.ue&&window.ue.signinprompt){window.ue.signinprompt.setremembermeenabled(document.getElementById("rememberMe").checked)}};e.__setAuthorizeRedirParams=_;e.__requestResetDialog=G;e.__displayNameChange=Z;e.requestReset=Q;e.validateResetRequest=nt;e.__login=dt;e.__linkPsn=it;e.__linkTwitch=ut;e.__linkYouTube=at;e.__linkPsnConfirm=ft;e.__alreadyLinked=lt;e.__linkMsId=ot;e.linkAccount=ct;e.validateLoginForm=bt;e.validateRegisterForm=_t;e.validateHeadlessForm=Bt;e.validateEditForm=$t;e.validateDisplayNameChangeForm=et;e.setClientId=k;e.__register=Ot;e.__headless=Pt;e.authorize=en;e.acceptAuthorize=nn;e.__doAuthorize=tn;e.hideModal=J;e.setRemoveCloseBtn=L;e.logout=Kt;e.__logoutDialog=Gt;e.setLogoutCallbackFn=A;e.__editDialog=Xt;e.edit=Wt;e.setNoCorsRedirectUrl=O;e.toggleChangePassword=Jt;e.validateResetForm=Yt;e.setDialogCloseCallback=M;e.setEditSuccessRedirectUrl=D;e.__showPsnAssociation=Qt;e.submitLinkPsnForm=rt;e.openLoginPsnPopup=sn;e.validateSdnForm=Ft;e.loadSdnForm=jt;e.cancelSdnForm=Rt;e.externalLogin=un;e.doExternalLogin=an;e.updateRememberMe=hn;e.switchToRegister=St;e.cancelExternalLogin=Et;e.completedSdnForm=Ut;e.switchToLogin=Ct;e.switchToLinkNew=kt;e.switchToLinkExisting=Lt;e.validateLinkNewForm=Dt;e.validateLinkExistingForm=wt;e.enterOffline=Nt;e.noXboxAccount=st;e.loginWithAuthCode=xt;e.loginWithExchangeCode=Tt;e.showPleaseWait=C;e.checkExternalLoginStatus=ln;return e}()